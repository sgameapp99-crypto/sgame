# é æ¸¬æ•¸æ“šé¡¯ç¤ºå•é¡Œè¨ºæ–·

**å•é¡Œæè¿°**: å¾Œç«¯ç¢ºèªæœ‰é æ¸¬æ•¸æ“šï¼Œä½†å‰ç«¯æœƒå“¡é é¢æ²’æœ‰é¡¯ç¤ºã€‚

**æ—¥æœŸ**: 2025-10-22

---

## ğŸ“Š å¾Œç«¯ç¢ºèªçš„æ•¸æ“š

æ ¹æ“šå¾Œç«¯å›è¦†ï¼š

```
âœ… è³‡æ–™åº«ä¸­ç¢ºå¯¦æœ‰å‰ç«¯æäº¤çš„é æ¸¬è³‡æ–™ï¼

ä¸»è¦æ´»èºç”¨æˆ¶ï¼š
- forever306936@gmail.com (Test) - æäº¤äº† 10 ç­†é æ¸¬

ä¸»è¦é‡å°å…©å ´æ¸¬è©¦è³½äº‹ï¼š
- æ´›æ‰ç£¯é“å¥‡ vs èˆŠé‡‘å±±å·¨äººï¼ˆMLBï¼Œ2025-10-25ï¼‰
- æ´›æ‰ç£¯æ¹–äºº vs é‡‘å·å‹‡å£«ï¼ˆNBAï¼Œ2025-10-24ï¼‰
```

---

## ğŸ” è¨ºæ–·æ­¥é©Ÿ

### ç¬¬ä¸€æ­¥ï¼šåˆ·æ–°é é¢ä¸¦æŸ¥çœ‹å®Œæ•´æ—¥èªŒ

1. **ç¡¬åˆ·æ–°é é¢**ï¼ˆCtrl+F5 æˆ– Cmd+Shift+Rï¼‰
2. **æ‰“é–‹é–‹ç™¼è€…å·¥å…·** â†’ Console æ¨™ç±¤
3. **æŸ¥çœ‹ä»¥ä¸‹æ—¥èªŒ**ï¼š

#### æ‡‰è©²çœ‹åˆ°çš„å®Œæ•´æ—¥èªŒåºåˆ—ï¼š

```
ğŸš€ loadPredictions å‡½æ•¸é–‹å§‹åŸ·è¡Œ
ğŸ”‘ ç²å–åˆ°çš„ userId: 27
ğŸ”‘ route.params.id: undefined
ğŸ”‘ session.profile?.id: 27
ğŸ” è¼‰å…¥æœƒå“¡é æ¸¬ - è«‹æ±‚åƒæ•¸: { memberId: 27, page: 1, size: 20, startDate: "2025-10-22", endDate: undefined }
ğŸ” ç•¶å‰æ—¥æœŸç¯„åœé¸æ“‡: all
ğŸ” è·¯ç”±åƒæ•¸ ID: undefined
ğŸ” Session Profile ID: 27
âœ… é æ¸¬ API å›æ‡‰: { success: true, dataCount: 10, total: 10, firstPrediction: {...} }
ğŸ“¦ è¨­ç½®çš„ predictions æ•¸æ“š: [Array(10)]
ğŸ“¦ predictions æ•¸é‡: 10
ğŸ“¦ ç¬¬ä¸€ç­†é æ¸¬çš„å®Œæ•´çµæ§‹: { ... }
ğŸ“¦ ç¬¬ä¸€ç­†é æ¸¬çš„é—œéµå­—æ®µ:
   - id: 123
   - gameId: "20251024TEST007"
   - gameInfo: { allianceId: 2, allianceName: "NBA", ... }
   - predictionType: "international_spread"
   - status: "pending"
```

### ç¬¬äºŒæ­¥ï¼šç¢ºèªé—œéµä¿¡æ¯

å¾æ—¥èªŒä¸­ç¢ºèªä»¥ä¸‹ä¿¡æ¯ï¼š

#### âœ… æª¢æŸ¥é … 1ï¼šuserId

```
ğŸ”‘ ç²å–åˆ°çš„ userId: ???
```

**é æœŸ**ï¼šæ‡‰è©²æ˜¯ç™»å…¥ç”¨æˆ¶çš„ IDï¼ˆä¾‹å¦‚ 27ï¼‰
**å¦‚æœæ˜¯ undefined**ï¼šèªªæ˜ session æ²’æœ‰æ­£ç¢ºè¨­ç½®ï¼Œéœ€è¦æª¢æŸ¥ç™»å…¥ç‹€æ…‹

#### âœ… æª¢æŸ¥é … 2ï¼šAPI è«‹æ±‚åƒæ•¸

```
ğŸ” è¼‰å…¥æœƒå“¡é æ¸¬ - è«‹æ±‚åƒæ•¸: { memberId: ???, startDate: ???, ... }
```

**é æœŸ**ï¼š
- `memberId`: æ‡‰è©²æ˜¯æ•¸å­—æˆ–å­—ä¸²
- `startDate`: æ‡‰è©²æ˜¯ä»Šå¤©çš„æ—¥æœŸï¼ˆ2025-10-22ï¼‰
- `endDate`: é¸æ“‡ã€Œå…¨éƒ¨ã€æ™‚æ‡‰è©²æ˜¯ `undefined`

#### âœ… æª¢æŸ¥é … 3ï¼šAPI å›æ‡‰

```
âœ… é æ¸¬ API å›æ‡‰: { success: ???, dataCount: ???, total: ??? }
```

**é æœŸ**ï¼š
- `success: true`
- `dataCount: 10`ï¼ˆæ ¹æ“šå¾Œç«¯ç¢ºèªï¼‰
- `total: 10`

**å¦‚æœ dataCount ç‚º 0**ï¼š
- æª¢æŸ¥ Network æ¨™ç±¤ä¸­çš„å¯¦éš› API å›æ‡‰
- ç¢ºèªå¾Œç«¯è¿”å›çš„æ•¸æ“šçµæ§‹

#### âœ… æª¢æŸ¥é … 4ï¼šæ•¸æ“šçµæ§‹

```
ğŸ“¦ ç¬¬ä¸€ç­†é æ¸¬çš„å®Œæ•´çµæ§‹: { ... }
```

è¤‡è£½é€™å€‹ JSON ä¸¦æª¢æŸ¥å­—æ®µåç¨±æ˜¯å¦èˆ‡æ¨¡æ¿æœŸæœ›çš„ä¸€è‡´ã€‚

---

## ğŸ› å¸¸è¦‹å•é¡Œ

### å•é¡Œ 1ï¼šuserId ç‚º undefined

**ç—‡ç‹€**ï¼š
```
ğŸ”‘ ç²å–åˆ°çš„ userId: undefined
âŒ userId ç‚ºç©ºï¼Œæå‰è¿”å›
```

**åŸå› **ï¼šsession.profile æœªæ­£ç¢ºè¼‰å…¥

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. æª¢æŸ¥æ˜¯å¦å·²ç™»å…¥
2. æª¢æŸ¥ Console ä¸­æ˜¯å¦æœ‰ session ç›¸é—œéŒ¯èª¤
3. å˜—è©¦é‡æ–°ç™»å…¥

### å•é¡Œ 2ï¼šAPI å›æ‡‰æˆåŠŸä½† dataCount ç‚º 0

**ç—‡ç‹€**ï¼š
```
âœ… é æ¸¬ API å›æ‡‰: { success: true, dataCount: 0, total: 0 }
âš ï¸ æ²’æœ‰é æ¸¬æ•¸æ“š
```

**å¯èƒ½åŸå› **ï¼š

#### åŸå›  Aï¼šmemberId ä¸åŒ¹é…
```javascript
// æª¢æŸ¥ç™»å…¥çš„ç”¨æˆ¶ email
console.log('ç•¶å‰ç™»å…¥ç”¨æˆ¶:', session.user?.email);

// ç¢ºèªæ˜¯å¦æ˜¯ forever306936@gmail.com (Test)
```

#### åŸå›  Bï¼šæ—¥æœŸç¯„åœä¸åŒ¹é…
```
å¾Œç«¯æ•¸æ“šçš„è³½äº‹æ—¥æœŸï¼š2025-10-24, 2025-10-25
å‰ç«¯è«‹æ±‚çš„ startDateï¼š2025-10-22
å‰ç«¯è«‹æ±‚çš„ endDateï¼šundefined (å…¨éƒ¨)

ç†è«–ä¸Šæ‡‰è©²åŒ¹é…ï¼
```

**æª¢æŸ¥ Network æ¨™ç±¤**ï¼š
1. æ‰¾åˆ° `GET /api/predictions` è«‹æ±‚
2. æŸ¥çœ‹ **Request URL** å’Œ **Query String Parameters**
3. æŸ¥çœ‹ **Response** å…§å®¹

#### åŸå›  Cï¼šå¾Œç«¯åƒæ•¸åç¨±ä¸åŒ¹é…

å‰ç«¯ä½¿ç”¨ `memberId`ï¼Œä½†å¾Œç«¯å¯èƒ½æœŸæœ›å…¶ä»–åƒæ•¸åï¼ˆä¾‹å¦‚ `userId`ï¼‰ã€‚

**è‡¨æ™‚æ¸¬è©¦**ï¼š
åœ¨ MemberPage.vue çš„ loadPredictions å‡½æ•¸ä¸­ï¼Œæš«æ™‚æ·»åŠ å…©å€‹åƒæ•¸ï¼š

```typescript
const result = await predictionsAPI.getPredictions({
  memberId: userId,
  userId: userId,  // åŒæ™‚å‚³å…¥ userId
  page: currentPage.value,
  size: pageSize.value,
  startDate: startDate,
  endDate: endDate,
});
```

### å•é¡Œ 3ï¼šæœ‰æ•¸æ“šä½†é é¢æ²’æœ‰é¡¯ç¤º

**ç—‡ç‹€**ï¼š
```
ğŸ“¦ predictions æ•¸é‡: 10
```

ä½†é é¢ä¸Šé¡¯ç¤ºã€Œç„¡é æ¸¬ã€ã€‚

**åŸå› **ï¼šæ¨¡æ¿å­—æ®µåç¨±èˆ‡æ•¸æ“šçµæ§‹ä¸åŒ¹é…ã€‚

**æª¢æŸ¥æ¨¡æ¿æœŸæœ›çš„å­—æ®µ**ï¼š

MemberPage.vue æ¨¡æ¿ä½¿ç”¨ä»¥ä¸‹å­—æ®µï¼š
- `prediction.gameMode` - ç”¨æ–¼å€åˆ†åœ‹éš›ç›¤/é‹å½©ç›¤
- `prediction.date` - è³½äº‹æ—¥æœŸ
- `prediction.homeTeam` - ä¸»éšŠ
- `prediction.awayTeam` - å®¢éšŠ
- `prediction.title` - é æ¸¬æ¨™é¡Œ
- `prediction.type` - é æ¸¬é¡å‹
- `prediction.result` - é æ¸¬çµæœ

**ä½† API è¿”å›çš„çµæ§‹æ˜¯**ï¼š
- `prediction.gameInfo.gameDate` ï¼ˆä¸æ˜¯ `date`ï¼‰
- `prediction.gameInfo.homeTeam`
- `prediction.gameInfo.awayTeam`
- `prediction.predictionType` ï¼ˆä¸æ˜¯ `type`ï¼‰
- `prediction.status` ï¼ˆä¸æ˜¯ `result`ï¼‰
- **æ²’æœ‰ `gameMode` å­—æ®µ**
- **æ²’æœ‰ `title` å­—æ®µ**

**è§£æ±ºæ–¹æ¡ˆ**ï¼šéœ€è¦ä¿®æ”¹æ¨¡æ¿æˆ–åœ¨ API å±¤é¢è½‰æ›æ•¸æ“šçµæ§‹ã€‚

---

## ğŸ”§ å¿«é€Ÿæ¸¬è©¦

### æ¸¬è©¦ 1ï¼šæª¢æŸ¥ filteredPredictions

åœ¨ Console ä¸­åŸ·è¡Œï¼ˆéœ€è¦åœ¨ Vue DevTools æˆ–é€šéä»£ç†è¨ªå•ï¼‰ï¼š

```javascript
// åœ¨ Vue DevTools ä¸­æ‰¾åˆ° MemberPage çµ„ä»¶
// æŸ¥çœ‹ predictions å’Œ filteredPredictions çš„å€¼
```

### æ¸¬è©¦ 2ï¼šæ‰‹å‹•æª¢æŸ¥ Network

1. æ‰“é–‹ **Network** æ¨™ç±¤
2. åˆ·æ–°é é¢
3. æ‰¾åˆ° `GET /api/predictions` è«‹æ±‚
4. æŸ¥çœ‹ **Response**ï¼š

```json
{
  "success": true,
  "data": [
    {
      "id": 123,
      "userId": 27,
      "gameId": "20251024TEST007",
      "gameInfo": {
        "allianceId": 2,
        "allianceName": "NBA",
        "gameDate": "2025-10-24",
        "homeTeam": "æ´›æ‰ç£¯æ¹–äºº",
        "awayTeam": "é‡‘å·å‹‡å£«"
      },
      "predictionType": "international_spread",
      "status": "pending",
      ...
    }
  ],
  "pagination": {
    "page": 1,
    "size": 20,
    "total": 10
  }
}
```

### æ¸¬è©¦ 3ï¼šæª¢æŸ¥ filteredPredictions è¨ˆç®—å±¬æ€§

æŸ¥çœ‹ Console ä¸­æ˜¯å¦æœ‰éæ¿¾ç›¸é—œçš„éŒ¯èª¤ï¼š

```
// å¦‚æœ filteredPredictions éæ¿¾é‚è¼¯æœ‰å•é¡Œ
// å¯èƒ½æœƒåœ¨ Console çœ‹åˆ° JavaScript éŒ¯èª¤
```

---

## ğŸ“‹ éœ€è¦æä¾›çš„ä¿¡æ¯

å¦‚æœä»¥ä¸Šæ­¥é©Ÿç„¡æ³•è§£æ±ºå•é¡Œï¼Œè«‹æä¾›ä»¥ä¸‹å®Œæ•´ä¿¡æ¯ï¼š

### 1. Console æ—¥èªŒï¼ˆå®Œæ•´ï¼‰

å¾ `ğŸš€ loadPredictions å‡½æ•¸é–‹å§‹åŸ·è¡Œ` é–‹å§‹ï¼Œåˆ°æ‰€æœ‰ ğŸ“¦ æ—¥èªŒçµæŸã€‚

### 2. Network è«‹æ±‚è©³æƒ…

```
Request URL: GET /api/predictions?...
Query String Parameters:
  memberId: ???
  page: ???
  size: ???
  startDate: ???
  endDate: ???

Response:
{
  "success": ???,
  "data": [...],
  ...
}
```

### 3. ç•¶å‰ç™»å…¥ç”¨æˆ¶ä¿¡æ¯

```javascript
// åœ¨ Console åŸ·è¡Œ
console.log('Session:', {
  loggedIn: session.loggedIn,
  userId: session.userId,
  user: session.user,
  profile: session.profile
});
```

### 4. Vue DevTools çµ„ä»¶ç‹€æ…‹

- `predictions` é™£åˆ—çš„å…§å®¹
- `filteredPredictions` çš„å€¼
- `selectedAlliance` çš„å€¼
- `selectedDateRange` çš„å€¼

---

## ğŸ’¡ å¯èƒ½çš„è§£æ±ºæ–¹æ¡ˆ

### æ–¹æ¡ˆ Aï¼šä¿®æ”¹æ¨¡æ¿ä»¥åŒ¹é… API æ•¸æ“šçµæ§‹

å°‡æ¨¡æ¿ä¸­çš„å­—æ®µåç¨±æ”¹ç‚ºèˆ‡ API è¿”å›çš„ä¸€è‡´ï¼ˆæ¨è–¦ï¼‰ã€‚

### æ–¹æ¡ˆ Bï¼šåœ¨ API å±¤é¢è½‰æ›æ•¸æ“š

åœ¨ `predictionsAPI.getPredictions` ä¸­æ·»åŠ æ•¸æ“šè½‰æ›é‚è¼¯ã€‚

### æ–¹æ¡ˆ Cï¼šå‰µå»º UserPrediction é¡å‹

å‰µå»ºä¸€å€‹æ–°çš„é¡å‹ï¼ŒåŒ…å«æ¨¡æ¿éœ€è¦çš„æ‰€æœ‰å­—æ®µï¼Œä¸¦åœ¨è¼‰å…¥æ•¸æ“šå¾Œé€²è¡Œè½‰æ›ã€‚

---

## ğŸ¯ ä¸‹ä¸€æ­¥è¡Œå‹•

1. **åˆ·æ–°é é¢**ä¸¦è¤‡è£½å®Œæ•´çš„ Console æ—¥èªŒ
2. **æª¢æŸ¥ Network æ¨™ç±¤**ä¸­çš„ API å›æ‡‰
3. **å°‡ä»¥ä¸Šä¿¡æ¯æä¾›çµ¦æˆ‘**ï¼Œæˆ‘æœƒç²¾ç¢ºå®šä½å•é¡Œä¸¦æä¾›è§£æ±ºæ–¹æ¡ˆ

---

**è¨ºæ–·å®Œæˆå¾Œï¼Œæˆ‘å€‘å°‡æ ¹æ“šå…·é«”æƒ…æ³ä¿®å¾©æ¨¡æ¿æˆ–æ•¸æ“šçµæ§‹ï¼** ğŸš€

